!function(e){"use strict";var t=e.tablesorter=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",sortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",wrapper:"tablesorter-wrapper",resizer:"tablesorter-resizer",sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible"}),t.storage=function(t,i,r,a){var l,s,n,o=!1,c={},d=(t=e(t)[0]).config,f=e(t),h=a&&a.id||f.attr(a&&a.group||"data-table-group")||t.id||e(".tablesorter").index(f),u=a&&a.url||f.attr(a&&a.page||"data-table-page")||d&&d.fixedUrl||window.location.pathname;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","temp"),o=!0,window.localStorage.removeItem("_tmptest")}catch(e){}if(JSON.parse&&(o?c=JSON.parse(localStorage[i]||"{}"):(s=document.cookie.split(/[;\s|=]/),c=0!==(l=e.inArray(i,s)+1)?JSON.parse(s[l]||"{}"):{})),!r&&""!==r||!window.JSON||!JSON.hasOwnProperty("stringify"))return c&&c[u]?c[u][h]:"";c[u]||(c[u]={}),c[u][h]=r,o?localStorage[i]=JSON.stringify(c):((n=new Date).setTime(n.getTime()+31536e6),document.cookie=i+"="+JSON.stringify(c).replace(/\"/g,'"')+"; expires="+n.toGMTString()+"; path=/")},t.addHeaderResizeEvent=function(t,i,r){t=e(t)[0];var a,l={timer:250},s=e.extend({},l,r),n=t.config,o=n.widgetOptions,c=function(t){o.resize_flag=!0,a=[],n.$headers.each(function(){var t=e(this),i=t.data("savedSizes")||[0,0],r=this.offsetWidth,l=this.offsetHeight;r===i[0]&&l===i[1]||(t.data("savedSizes",[r,l]),a.push(this))}),a.length&&!1!==t&&n.$table.trigger("resize",[a]),o.resize_flag=!1};if(c(!1),clearInterval(o.resize_timer),i)return o.resize_flag=!1,!1;o.resize_timer=setInterval(function(){o.resize_flag||c()},s.timer)},t.addWidget({id:"uitheme",priority:10,format:function(i,r,a){var l,s,n,o,c,d,f,h=t.themes,u=r.$table,p=r.$headers,g=r.theme||"jui",m=h[g]||h.jui,b=m.sortNone+" "+m.sortDesc+" "+m.sortAsc;for(r.debug&&(s=new Date),u.hasClass("tablesorter-"+g)&&r.theme!==g&&i.hasInitialized||(""!==m.even&&(a.zebra[0]+=" "+m.even),""!==m.odd&&(a.zebra[1]+=" "+m.odd),u.find("caption").addClass(m.caption),(d=u.removeClass(""===r.theme?"":"tablesorter-"+r.theme).addClass("tablesorter-"+g+" "+m.table).find("tfoot")).length&&d.find("tr").addClass(m.footerRow).children("th, td").addClass(m.footerCells),p.addClass(m.header).not(".sorter-false").on("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](m.hover)}),p.find("."+t.css.wrapper).length||p.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),r.cssIcon&&p.find("."+t.css.icon).addClass(m.icons),u.hasClass("hasFilters")&&p.find("."+t.css.filterRow).addClass(m.filterRow)),l=0;l<r.columns;l++)o=r.$headers.add(r.$extraHeaders).filter('[data-column="'+l+'"]'),c=t.css.icon?o.find("."+t.css.icon):o,(f=r.$headers.filter('[data-column="'+l+'"]:last')).length&&(f[0].sortDisabled?(o.removeClass(b),c.removeClass(b+" "+m.icons)):(o[(n=o.hasClass(t.css.sortAsc)?m.sortAsc:o.hasClass(t.css.sortDesc)?m.sortDesc:o.hasClass(t.css.header)?m.sortNone:"")===m.sortNone?"removeClass":"addClass"](m.active),c.removeClass(b).addClass(n)));r.debug&&t.benchmark("Applying "+g+" theme",s)},remove:function(e,i){var r=i.$table,a=i.theme||"jui",l=t.themes[a]||t.themes.jui,s=r.children("thead").children(),n=l.sortNone+" "+l.sortDesc+" "+l.sortAsc;r.removeClass("tablesorter-"+a+" "+l.table).find(t.css.header).removeClass(l.header),s.off("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(l.hover+" "+n+" "+l.active).find("."+t.css.filterRow).removeClass(l.filterRow),s.find("."+t.css.icon).removeClass(l.icons)}}),t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,r,a){var l,s,n,o,c,d,f,h,u,p=r.$table,g=r.$tbodies,m=r.sortList,b=m.length,y=a&&a.columns||["primary","secondary","tertiary"],w=y.length-1;for(h=y.join(" "),r.debug&&(l=new Date),n=0;n<g.length;n++)(o=(s=t.processTbody(i,g.eq(n),!0)).children("tr")).each(function(){if(d=e(this),"none"!==this.style.display&&(f=d.children().removeClass(h),m&&m[0]&&(f.eq(m[0][0]).addClass(y[0]),b>1)))for(u=1;u<b;u++)f.eq(m[u][0]).addClass(y[u]||y[w])}),t.processTbody(i,s,!1);if(c=!1!==a.columns_thead?["thead tr"]:[],!1!==a.columns_tfoot&&c.push("tfoot tr"),c.length&&(o=p.find(c.join(",")).children().removeClass(h),b))for(u=0;u<b;u++)o.filter('[data-column="'+m[u][0]+'"]').addClass(y[u]||y[w]);r.debug&&t.benchmark("Applying Columns widget",l)},remove:function(i,r,a){var l,s,n=r.$tbodies,o=(a.columns||["primary","secondary","tertiary"]).join(" ");for(r.$headers.removeClass(o),r.$table.children("tfoot").children("tr").children("th, td").removeClass(o),l=0;l<n.length;l++)(s=t.processTbody(i,n.eq(l),!0)).children("tr").each(function(){e(this).children().removeClass(o)}),t.processTbody(i,s,!1)}}),t.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(e,i,r){i.$table.hasClass("hasFilters")||t.filter.init(e,i,r)},remove:function(i,r,a){var l,s,n=r.$table,o=r.$tbodies;for(n.removeClass("hasFilters").off("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(r.namespace+"filter ")).find("."+t.css.filterRow).remove(),l=0;l<o.length;l++)(s=t.processTbody(i,o.eq(l),!0)).children().removeClass(a.filter_filteredRow).show(),t.processTbody(i,s,!1);a.filter_reset&&e(document).undelegate(a.filter_reset,"click.tsfilter")}}),t.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=]+)|([\"|\'|=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g,query:"(q|query)"},types:{regex:function(e,i){if(t.filter.regex.regex.test(i.iFilter)){var r,a=t.filter.regex.regex.exec(i.iFilter);try{r=new RegExp(a[1],a[2]).test(i.iExact)}catch(e){r=!1}return r}return null},operators:function(i,r){if(/^[<>]=?/.test(r.iFilter)){var a,l,s=i.table,n=r.index,o=r.parsed[n],c=t.formatFloat(r.iFilter.replace(t.filter.regex.operators,""),s),d=i.parsers[n],f=c;return(o||"numeric"===d.type)&&(c="number"!=typeof(l=t.filter.parseFilter(i,e.trim(""+r.iFilter.replace(t.filter.regex.operators,"")),n,o,!0))||""===l||isNaN(l)?c:l),a=!o&&"numeric"!==d.type||isNaN(c)||void 0===r.cache?isNaN(r.iExact)?t.formatFloat(r.iExact.replace(t.filter.regex.nondigit,""),s):t.formatFloat(r.iExact,s):r.cache,/>/.test(r.iFilter)&&(l=/>=/.test(r.iFilter)?a>=c:a>c),/</.test(r.iFilter)&&(l=/<=/.test(r.iFilter)?a<=c:a<c),l||""!==f||(l=!0),l}return null},notMatch:function(i,r){if(/^\!/.test(r.iFilter)){var a,l=t.filter.parseFilter(i,r.iFilter.replace("!",""),r.index,r.parsed[r.index]);return t.filter.regex.exact.test(l)?""===(l=l.replace(t.filter.regex.exact,""))||e.trim(l)!==r.iExact:(a=r.iExact.search(e.trim(l)),""===l||!(i.widgetOptions.filter_startsWith?0===a:a>=0))}return null},exact:function(i,r){if(t.filter.regex.exact.test(r.iFilter)){var a=t.filter.parseFilter(i,r.iFilter.replace(t.filter.regex.exact,""),r.index,r.parsed[r.index]);return r.anyMatch?e.inArray(a,r.rowArray)>=0:a==r.iExact}return null},and:function(i,r){if(t.filter.regex.andTest.test(r.filter)){for(var a=r.index,l=r.parsed[a],s=r.iFilter.split(t.filter.regex.andSplit),n=r.iExact.search(e.trim(t.filter.parseFilter(i,s[0],a,l)))>=0,o=s.length-1;n&&o;)n=n&&r.iExact.search(e.trim(t.filter.parseFilter(i,s[o],a,l)))>=0,o--;return n}return null},range:function(e,i){if(t.filter.regex.toTest.test(i.iFilter)){var r,a,l=e.table,s=i.index,n=i.parsed[s],o=i.iFilter.split(t.filter.regex.toSplit),c=t.formatFloat(t.filter.parseFilter(e,o[0].replace(t.filter.regex.nondigit,""),s,n),l),d=t.formatFloat(t.filter.parseFilter(e,o[1].replace(t.filter.regex.nondigit,""),s,n),l);return(n||"numeric"===e.parsers[s].type)&&(c=""===(r=e.parsers[s].format(""+o[0],l,e.$headers.eq(s),s))||isNaN(r)?c:r,d=""===(r=e.parsers[s].format(""+o[1],l,e.$headers.eq(s),s))||isNaN(r)?d:r),r=!n&&"numeric"!==e.parsers[s].type||isNaN(c)||isNaN(d)?isNaN(i.iExact)?t.formatFloat(i.iExact.replace(t.filter.regex.nondigit,""),l):t.formatFloat(i.iExact,l):i.cache,c>d&&(a=c,c=d,d=a),r>=c&&r<=d||""===c||""===d}return null},wild:function(i,r){if(/[\?|\*]/.test(r.iFilter)||t.filter.regex.orReplace.test(r.filter)){var a=r.index,l=r.parsed[a],s=t.filter.parseFilter(i,r.iFilter.replace(t.filter.regex.orReplace,"|"),a,l);return!i.$headers.filter('[data-column="'+a+'"]:last').hasClass("filter-match")&&/\|/.test(s)&&(s=r.anyMatch&&e.isArray(r.rowArray)?"("+s+")":"^("+s+")$"),new RegExp(s.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(r.iExact)}return null},fuzzy:function(e,i){if(/^~/.test(i.iFilter)){var r,a=0,l=i.iExact.length,s=t.filter.parseFilter(e,i.iFilter.slice(1),i.index,i.parsed[i.index]);for(r=0;r<l;r++)i.iExact[r]===s[a]&&(a+=1);return a===s.length}return null}},init:function(i,r,a){t.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},t.language);var l,s,n,o,c,d,f,h,u,p,g=t.filter.regex;if(r.debug&&(h=new Date),r.$table.addClass("hasFilters"),a.searchTimer=null,a.filter_initTimer=null,a.filter_formatterCount=0,a.filter_formatterInit=[],a.filter_initializing=!0,n="\\{"+t.filter.regex.query+"\\}",e.extend(g,{child:new RegExp(r.cssChildRow),filtered:new RegExp(a.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+t.language.or+"|-|"+t.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+t.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+t.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+t.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+t.language.and+"|&&)\\s+)","gi"),orReplace:new RegExp("\\s+("+t.language.or+")\\s+","gi"),iQuery:new RegExp(n,"i"),igQuery:new RegExp(n,"ig")}),!1!==a.filter_columnFilters&&r.$headers.filter(".filter-false, .parser-false").length!==r.$headers.length&&t.filter.buildRow(i,r,a),r.$table.on("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(r.namespace+"filter "),function(l,s){return r.$table.find("."+t.css.filterRow).toggle(!(a.filter_hideEmpty&&e.isEmptyObject(r.cache)&&(!r.delayInit||"appendCache"!==l.type))),/(search|filter)/.test(l.type)||(l.stopPropagation(),t.filter.buildDefault(i,!0)),"filterReset"===l.type?(r.$table.find("."+t.css.filter).add(a.filter_$externalFilters).val(""),t.filter.searching(i,[])):"filterEnd"===l.type?t.filter.buildDefault(i,!0):(s="search"===l.type?s:"updateComplete"===l.type?r.$table.data("lastSearch"):"",/(update|add)/.test(l.type)&&"updateComplete"!==l.type&&(r.lastCombinedFilter=null,r.lastSearch=[]),t.filter.searching(i,s,!0)),!1}),a.filter_reset&&(a.filter_reset instanceof e?a.filter_reset.on('click', function(){r.$table.trigger("filterReset")}):e(a.filter_reset).length&&e(document).undelegate(a.filter_reset,"click.tsfilter").delegate(a.filter_reset,"click.tsfilter",function(){r.$table.trigger("filterReset")})),a.filter_functions)for(c=0;c<r.columns;c++)if(u=t.getColumnData(i,a.filter_functions,c))if(o=r.$headers.filter('[data-column="'+c+'"]:last').removeClass("filter-select"),p=!(o.hasClass("filter-false")||o.hasClass("parser-false")),l="",!0===u&&p)t.filter.buildSelect(i,c);else if("object"==typeof u&&p){for(s in u)"string"==typeof s&&(l+=""===l?'<option value="">'+(o.data("placeholder")||o.attr("data-placeholder")||a.filter_placeholder.select||"")+"</option>":"",f=s,n=s,s.indexOf(a.filter_selectSourceSeparator)>=0&&(n=(f=s.split(a.filter_selectSourceSeparator))[1],f=f[0]),l+="<option "+(n===f?"":'data-function-name="'+s+'" ')+'value="'+f+'">'+n+"</option>");r.$table.find("thead").find("select."+t.css.filter+'[data-column="'+c+'"]').append(l)}t.filter.buildDefault(i,!0),t.filter.bindSearch(i,r.$table.find("."+t.css.filter),!0),a.filter_external&&t.filter.bindSearch(i,a.filter_external),a.filter_hideFilters&&t.filter.hideFilters(i,r),r.showProcessing&&r.$table.on("filterStart"+r.namespace+"filter filterEnd"+r.namespace+"filter",function(a,l){o=l?r.$table.find("."+t.css.header).filter("[data-column]").filter(function(){return""!==l[e(this).data("column")]}):"",t.isProcessing(i,"filterStart"===a.type,l?o:"")}),r.filteredRows=r.totalRows,r.debug&&t.benchmark("Applying Filter widget",h),r.$table.on("tablesorter-initialized pagerInitialized",function(){var e=this.config.widgetOptions;(d=t.filter.setDefaults(i,r,e)||[]).length&&(r.delayInit&&""===d.join("")||t.setFilters(i,d,!0)),r.$table.trigger("filterFomatterUpdate"),setTimeout(function(){e.filter_initialized||t.filter.filterInitComplete(r)},100)}),r.pager&&r.pager.initialized&&!a.filter_initialized&&(r.$table.trigger("filterFomatterUpdate"),setTimeout(function(){t.filter.filterInitComplete(r)},100))},formatterUpdated:function(e,t){var i=e.closest("table")[0].config.widgetOptions;i.filter_initialized||(i.filter_formatterInit[t]=1)},filterInitComplete:function(i){var r=i.widgetOptions,a=0,l=function(){r.filter_initialized=!0,r.filter_initializing=!1,t.filter.findRows(i.table,i.$table.data("lastSearch"),null),i.$table.trigger("filterInit",i)};e.each(r.filter_formatterInit,function(e,t){1===t&&a++}),clearTimeout(r.filter_initTimer),r.filter_initialized||a!==r.filter_formatterCount?r.filter_initialized||(r.filter_initTimer=setTimeout(function(){l()},500)):l()},setDefaults:function(i,r,a){var l,s,n,o=t.getFilters(i)||[];if(a.filter_saveFilters&&t.storage&&(s=t.storage(i,"tablesorter-filters")||[],(l=e.isArray(s))&&""===s.join("")||!l||(o=s)),""===o.join(""))for(n=0;n<r.columns;n++)o[n]=r.$headers.filter('[data-column="'+n+'"]:last').attr(a.filter_defaultAttrib)||o[n];return r.$table.data("lastSearch",o),o},parseFilter:function(e,t,i,r,a){return a||r?e.parsers[i].format(t,e.table,[],i):t},buildRow:function(i,r,a){var l,s,n,o,c,d,f,h=r.columns,u='<tr role="row" class="'+t.css.filterRow+'">';for(s=0;s<h;s++)u+="<td></td>";for(r.$filters=e(u+="</tr>").appendTo(r.$table.children("thead").eq(0)).find("td"),s=0;s<h;s++)c=!1,n=r.$headers.filter('[data-column="'+s+'"]:last'),f=t.getColumnData(i,a.filter_functions,s),o=a.filter_functions&&f&&"function"!=typeof f||n.hasClass("filter-select"),l=t.getColumnData(i,r.headers,s),c="false"===t.getData(n[0],l,"filter")||"false"===t.getData(n[0],l,"parser"),o?u=e("<select>").appendTo(r.$filters.eq(s)):((f=t.getColumnData(i,a.filter_formatter,s))?(a.filter_formatterCount++,(u=f(r.$filters.eq(s),s))&&0===u.length&&(u=r.$filters.eq(s).children("input")),u&&(0===u.parent().length||u.parent().length&&u.parent()[0]!==r.$filters[s])&&r.$filters.eq(s).append(u)):u=e('<input type="search">').appendTo(r.$filters.eq(s)),u&&u.attr("placeholder",n.data("placeholder")||n.attr("data-placeholder")||a.filter_placeholder.search||"")),u&&(d=(e.isArray(a.filter_cssFilter)?void 0!==a.filter_cssFilter[s]?a.filter_cssFilter[s]||"":"":a.filter_cssFilter)||"",u.addClass(t.css.filter+" "+d).attr("data-column",s),c&&(u.attr("placeholder","").addClass("disabled")[0].disabled=!0))},bindSearch:function(i,r,a){if(i=e(i)[0],(r=e(r)).length){var l=i.config,s=l.widgetOptions,n=s.filter_$externalFilters;!0!==a&&(s.filter_$anyMatch=r.filter('[data-column="all"]'),n&&n.length?s.filter_$externalFilters=s.filter_$externalFilters.add(r):s.filter_$externalFilters=r,t.setFilters(i,l.$table.data("lastSearch")||[],!1===a)),r.attr("data-lastSearchTime",(new Date).getTime()).off("keypress keyup search change ".split(" ").join(l.namespace+"filter ")).on("keyup"+l.namespace+"filter",function(r){if(e(this).attr("data-lastSearchTime",(new Date).getTime()),27===r.which)this.value="";else{if(!1===s.filter_liveSearch)return;if(""!==this.value&&("number"==typeof s.filter_liveSearch&&this.value.length<s.filter_liveSearch||13!==r.which&&8!==r.which&&(r.which<32||r.which>=37&&r.which<=40)))return}t.filter.searching(i,!0,!0)}).on("search change keypress ".split(" ").join(l.namespace+"filter "),function(r){var a=e(this).data("column");(13===r.which||"search"===r.type||"change"===r.type&&this.value!==l.lastSearch[a])&&(r.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.filter.searching(i,!1,!0))})}},searching:function(e,i,r){var a=e.config.widgetOptions;clearTimeout(a.searchTimer),void 0===i||!0===i?a.searchTimer=setTimeout(function(){t.filter.checkFilters(e,i,r)},a.filter_liveSearch?a.filter_searchDelay:10):t.filter.checkFilters(e,i,r)},checkFilters:function(i,r,a){var l=i.config,s=l.widgetOptions,n=e.isArray(r),o=n?r:t.getFilters(i,!0),c=(o||[]).join("");if(e.isEmptyObject(l.cache))l.delayInit&&l.pager&&l.pager.initialized&&l.$table.trigger("updateCache",[function(){t.filter.checkFilters(i,!1,a)}]);else if(n&&(t.setFilters(i,o,!1,!0!==a),s.filter_initialized||(l.lastCombinedFilter="")),s.filter_hideFilters&&l.$table.find("."+t.css.filterRow).trigger(""===c?"mouseleave":"mouseenter"),l.lastCombinedFilter!==c||!1===r){if(!1===r&&(l.lastCombinedFilter=null,l.lastSearch=[]),s.filter_initialized&&l.$table.trigger("filterStart",[o]),!l.showProcessing)return t.filter.findRows(i,o,c),!1;setTimeout(function(){return t.filter.findRows(i,o,c),!1},30)}},hideFilters:function(i,r){var a,l,s;e(i).find("."+t.css.filterRow).addClass("hideme").on("mouseenter mouseleave",function(t){var i=t;a=e(this),clearTimeout(s),s=setTimeout(function(){/enter|over/.test(i.type)?a.removeClass("hideme"):e(document.activeElement).closest("tr")[0]!==a[0]&&""===r.lastCombinedFilter&&a.addClass("hideme")},200)}).find("input, select").on("focus blur",function(i){l=e(this).closest("tr"),clearTimeout(s);var a=i;s=setTimeout(function(){""===t.getFilters(r.$table).join("")&&l["focus"===a.type?"removeClass":"addClass"]("hideme")},200)})},defaultFilter:function(i,r){if(""===i)return i;var a=t.filter.regex.iQuery,l=r.match(t.filter.regex.igQuery).length,s=l>1?e.trim(i).split(/\s/):[e.trim(i)],n=s.length-1,o=0,c=r;for(n<1&&l>1&&(s[1]=s[0]);a.test(c);)c=c.replace(a,s[o++]||""),a.test(c)&&o<n&&""!==(s[o]||"")&&(c=r.replace(a,c));return c},findRows:function(i,r,a){if(i.config.lastCombinedFilter!==a&&!i.config.widgetOptions.filter_initializing){var l,s,n,o,c,d,f,h,u,p,g,m,b,y,w,v,_,x,C,F,$,z,S,R=t.filter.regex,k=i.config,T=k.widgetOptions,E=k.$table.children("tbody"),D={anyMatch:!1},A=["range","notMatch","operators"];for(D.parsed=k.$headers.map(function(r){return k.parsers&&k.parsers[r]&&k.parsers[r].parsed||t.getData&&"parsed"===t.getData(k.$headers.filter('[data-column="'+r+'"]:last'),t.getColumnData(i,k.headers,r),"filter")||e(this).hasClass("filter-parsed")}).get(),k.debug&&(w=new Date),k.filteredRows=0,k.totalRows=0,o=0;o<E.length;o++)if(!E.eq(o).hasClass(k.cssInfoBlock||t.css.info)){if(c=t.processTbody(i,E.eq(o),!0),h=k.columns,s=e(e.map(k.cache[o].normalized,function(e){return e[h].$row.get()})),""===a||T.filter_serversideFiltering)s.removeClass(T.filter_filteredRow).not("."+k.cssChildRow).show();else{if(s=s.not("."+k.cssChildRow),l=s.length,C=T.filter_searchFiltered,p=k.lastSearch||k.$table.data("lastSearch")||[],C)for(_=0;_<h+1;_++)v=r[_]||"",C||(_=h),C=C&&p.length&&0===v.indexOf(p[_]||"")&&!R.alreadyFiltered.test(v)&&!/[=\"\|!]/.test(v)&&!(/(>=?\s*-\d)/.test(v)||/(<=?\s*\d)/.test(v))&&!(""!==v&&k.$filters&&k.$filters.eq(_).find("select").length&&!k.$headers.filter('[data-column="'+_+'"]:last').hasClass("filter-match"));for(x=s.not("."+T.filter_filteredRow).length,C&&0===x&&(C=!1),k.debug&&t.log("Searching through "+(C&&x<l?x:"all")+" rows"),(T.filter_$anyMatch&&T.filter_$anyMatch.length||r[k.columns])&&(D.anyMatchFlag=!0,D.anyMatchFilter=T.filter_$anyMatch&&T.filter_$anyMatch.val()||r[k.columns]||"",k.sortLocaleCompare&&(D.anyMatchFilter=t.replaceAccents(D.anyMatchFilter)),T.filter_defaultFilter&&R.iQuery.test(t.getColumnData(i,T.filter_defaultFilter,k.columns,!0)||"")&&(D.anyMatchFilter=t.filter.defaultFilter(D.anyMatchFilter,t.getColumnData(i,T.filter_defaultFilter,k.columns,!0)),C=!1),D.iAnyMatchFilter=D.anyMatchFilter.toLocaleLowerCase()),n=0;n<l;n++)if(D.cacheArray=k.cache[o].normalized[n],u=s[n].className,!(R.child.test(u)||C&&R.filtered.test(u))){if(y=!0,u=s.eq(n).nextUntil("tr:not(."+k.cssChildRow+")"),D.childRowText=u.length&&T.filter_childRows?u.text():"",D.childRowText=T.filter_ignoreCase?D.childRowText.toLocaleLowerCase():D.childRowText,d=s.eq(n).children(),D.anyMatchFlag){if(D.anyMatch=!0,D.rowArray=d.map(function(i){var r;return D.parsed[i]?r=D.cacheArray[i]:(r=T.filter_ignoreCase?e(this).text().toLowerCase():e(this).text(),k.sortLocaleCompare&&(r=t.replaceAccents(r))),r}).get(),D.filter=D.anyMatchFilter,D.iFilter=D.iAnyMatchFilter,D.exact=D.rowArray.join(" "),D.iExact=D.exact.toLowerCase(),D.cache=D.cacheArray.slice(0,-1).join(" "),F=null,e.each(t.filter.types,function(t,i){if(e.inArray(t,A)<0&&null!==(m=i(k,D)))return F=m,!1}),null!==F)y=F;else if(T.filter_startsWith)for(y=!1,h=k.columns;!y&&h>0;)h--,y=y||0===D.rowArray[h].indexOf(D.iFilter);else y=(D.iExact+D.childRowText).indexOf(D.iFilter)>=0;D.anyMatch=!1}for(h=0;h<k.columns;h++)D.filter=r[h],D.index=h,$=(t.getColumnData(i,T.filter_excludeFilter,h,!0)||"").split(/\s+/),D.filter&&(D.cache=D.cacheArray[h],T.filter_useParsedData||D.parsed[h]?D.exact=D.cache:(D.exact=e.trim(d.eq(h).text()),D.exact=k.sortLocaleCompare?t.replaceAccents(D.exact):D.exact),D.iExact=!R.type.test(typeof D.exact)&&T.filter_ignoreCase?D.exact.toLocaleLowerCase():D.exact,b=y,S=T.filter_columnFilters?k.$filters.add(k.$externalFilters).filter('[data-column="'+h+'"]').find("select option:selected").attr("data-function-name")||"":"",D.filter=k.sortLocaleCompare?t.replaceAccents(D.filter):D.filter,v=!0,T.filter_defaultFilter&&R.iQuery.test(t.getColumnData(i,T.filter_defaultFilter,h)||"")&&(D.filter=t.filter.defaultFilter(D.filter,t.getColumnData(i,T.filter_defaultFilter,h)),v=!1),D.iFilter=T.filter_ignoreCase?(D.filter||"").toLocaleLowerCase():D.filter,z=t.getColumnData(i,T.filter_functions,h),g=(f=k.$headers.filter('[data-column="'+h+'"]:last')).hasClass("filter-select"),z||g&&v?!0===z||g?b=f.hasClass("filter-match")?D.iExact.search(D.iFilter)>=0:D.filter===D.exact:"function"==typeof z?b=z(D.exact,D.cache,D.filter,h,s.eq(n)):"function"==typeof z[S||D.filter]&&(b=z[S||D.filter](D.exact,D.cache,D.filter,h,s.eq(n))):(F=null,e.each(t.filter.types,function(t,i){if(e.inArray(t,$)<0&&null!==(m=i(k,D)))return F=m,!1}),null!==F?b=F:(D.exact=(D.iExact+D.childRowText).indexOf(t.filter.parseFilter(k,D.iFilter,h,D.parsed[h])),b=!T.filter_startsWith&&D.exact>=0||T.filter_startsWith&&0===D.exact)),y=!!b&&y);s.eq(n).toggle(y).toggleClass(T.filter_filteredRow,!y),u.length&&u.toggleClass(T.filter_filteredRow,!y)}}k.filteredRows+=s.not("."+T.filter_filteredRow).length,k.totalRows+=s.length,t.processTbody(i,c,!1)}k.lastCombinedFilter=a,k.lastSearch=r,k.$table.data("lastSearch",r),T.filter_saveFilters&&t.storage&&t.storage(i,"tablesorter-filters",r),k.debug&&t.benchmark("Completed filter widget search",w),T.filter_initialized&&k.$table.trigger("filterEnd",k),setTimeout(function(){k.$table.trigger("applyWidgets")},0)}},getOptionSource:function(i,r,a){var l,s=i.config,n=[],o=!1,c=s.widgetOptions.filter_selectSource,d=s.$table.data("lastSearch")||[],f=!!e.isFunction(c)||t.getColumnData(i,c,r);if(a&&""!==d[r]&&(a=!1),!0===f)o=c(i,r,a);else{if(f instanceof e||"string"===e.type(f)&&f.indexOf("</option>")>=0)return f;e.isArray(f)?o=f:"object"===e.type(c)&&f&&(o=f(i,r,a))}return!1===o&&(o=t.filter.getOptions(i,r,a)),o=e.grep(o,function(t,i){return e.inArray(t,o)===i}),s.$headers.filter('[data-column="'+r+'"]:last').hasClass("filter-select-nosort")?o:(e.each(o,function(e,t){n.push({t:t,p:s.parsers&&s.parsers[r].format(t,i,[],r)})}),l=s.textSorter||"",n.sort(function(a,s){var n=a.p.toString(),o=s.p.toString();return e.isFunction(l)?l(n,o,!0,r,i):"object"==typeof l&&l.hasOwnProperty(r)?l[r](n,o,!0,r,i):!t.sortNatural||t.sortNatural(n,o)}),o=[],e.each(n,function(e,t){o.push(t.t)}),o)},getOptions:function(t,i,r){var a,l,s,n,o,c,d=t.config,f=d.widgetOptions,h=d.$table.children("tbody"),u=[];for(l=0;l<h.length;l++)if(!h.eq(l).hasClass(d.cssInfoBlock))for(o=d.cache[l],s=d.cache[l].normalized.length,a=0;a<s;a++)n=o.row?o.row[a]:o.normalized[a][d.columns].$row[0],r&&n.className.match(f.filter_filteredRow)||(f.filter_useParsedData||d.parsers[i].parsed||d.$headers.filter('[data-column="'+i+'"]:last').hasClass("filter-parsed")?u.push(""+o.normalized[a][i]):(c=n.cells[i])&&u.push(e.trim(c.textContent||c.innerText||e(c).text())));return u},buildSelect:function(i,r,a,l,s){if(i=e(i)[0],r=parseInt(r,10),i.config.cache&&!e.isEmptyObject(i.config.cache)){var n,o,c,d,f,h,u=i.config,p=u.widgetOptions,g=u.$headers.filter('[data-column="'+r+'"]:last'),m='<option value="">'+(g.data("placeholder")||g.attr("data-placeholder")||p.filter_placeholder.select||"")+"</option>",b=u.$table.find("thead").find("select."+t.css.filter+'[data-column="'+r+'"]').val();if(void 0!==a&&""!==a||(a=t.filter.getOptionSource(i,r,s)),e.isArray(a)){for(n=0;n<a.length;n++)o=c=a[n]=(""+a[n]).replace(/\"/g,"&quot;"),c.indexOf(p.filter_selectSourceSeparator)>=0&&(o=(d=c.split(p.filter_selectSourceSeparator))[0],c=d[1]),m+=""!==a[n]?"<option "+(o===c?"":'data-function-name="'+a[n]+'" ')+'value="'+o+'">'+c+"</option>":"";a=[]}f=(u.$filters?u.$filters:u.$table.children("thead")).find("."+t.css.filter),p.filter_$externalFilters&&(f=f&&f.length?f.add(p.filter_$externalFilters):p.filter_$externalFilters),(h=f.filter('select[data-column="'+r+'"]')).length&&(h[l?"html":"append"](m),e.isArray(a)||h.append(a).val(b),h.val(b))}},buildDefault:function(e,i){var r,a,l,s=e.config,n=s.widgetOptions,o=s.columns;for(r=0;r<o;r++)l=!((a=s.$headers.filter('[data-column="'+r+'"]:last')).hasClass("filter-false")||a.hasClass("parser-false")),(a.hasClass("filter-select")||!0===t.getColumnData(e,n.filter_functions,r))&&l&&t.filter.buildSelect(e,r,"",i,a.hasClass(n.filter_onlyAvail))}},t.getFilters=function(i,r,a,l){var s,n,o,c=!1,d=i?e(i)[0].config:"",f=d?d.widgetOptions:"";if(!0!==r&&f&&!f.filter_columnFilters)return e(i).data("lastSearch");if(d&&(d.$filters&&(n=d.$filters.find("."+t.css.filter)),f.filter_$externalFilters&&(n=n&&n.length?n.add(f.filter_$externalFilters):f.filter_$externalFilters),n&&n.length))for(c=a||[],s=0;s<d.columns+1;s++)(o=n.filter('[data-column="'+(s===d.columns?"all":s)+'"]')).length&&(o=o.sort(function(t,i){return e(i).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}),e.isArray(a)?(l?o.slice(1):o).val(a[s]).trigger("change.tsfilter"):(c[s]=o.val()||"",o.slice(1).val(c[s])),s===d.columns&&o.length&&(f.filter_$anyMatch=o));return 0===c.length&&(c=!1),c},t.setFilters=function(i,r,a,l){var s=i?e(i)[0].config:"",n=t.getFilters(i,!0,r,l);return s&&a&&(s.lastCombinedFilter=null,s.lastSearch=[],t.filter.searching(s.$table[0],r,l),s.$table.trigger("filterFomatterUpdate")),!!n},t.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(i,r,a){if(!(r.$table.hasClass("hasStickyHeaders")||e.inArray("filter",r.widgets)>=0&&!r.$table.hasClass("hasFilters"))){var l,s=r.$table,n=e(a.stickyHeaders_attachTo||"window"),o=s.children("thead:first"),c=n.length?n:e(window),d=o.children("tr").not(".sticky-false").children(),f="."+t.css.headerIn,h=s.find("tfoot"),u=isNaN(a.stickyHeaders_offset)?e(a.stickyHeaders_offset):"",p=n.length?0:u.length?u.height()||0:parseInt(a.stickyHeaders_offset,10)||0,g=a.$sticky=s.clone().addClass("containsStickyHeaders").css({position:n.length?"absolute":"fixed",margin:0,top:p,left:0,visibility:"hidden",zIndex:a.stickyHeaders_zIndex?a.stickyHeaders_zIndex:2}),m=g.children("thead:first").addClass(t.css.sticky+" "+a.stickyHeaders),b="",y=0,w="collapse"!==s.css("border-collapse")&&!/(webkit|msie)/i.test(navigator.userAgent),v=function(){p=u.length?u.height()||0:parseInt(a.stickyHeaders_offset,10)||0,y=0,w&&(y=2*parseInt(d.eq(0).css("border-left-width"),10)),g.css({left:n.length?(parseInt(n.css("padding-left"),10)||0)+parseInt(r.$table.css("padding-left"),10)+parseInt(r.$table.css("margin-left"),10)+parseInt(s.css("border-left-width"),10):o.offset().left-c.scrollLeft()-y,width:s.width()}),l.filter(":visible").each(function(t){var i=d.filter(":visible").eq(t),a=w&&e(this).attr("data-column")===""+parseInt(r.columns/2,10)?1:0;e(this).css({width:i.width()-y}).find(f).width(i.find(f).width()-a)})};g.attr("id")&&(g[0].id+=a.stickyHeaders_cloneId),g.find("thead:gt(0), tr.sticky-false").hide(),g.find("tbody, tfoot").remove(),a.stickyHeaders_includeCaption?g.find("caption").css("margin-left","-1px"):g.find("caption").remove(),l=m.children().children(),g.css({height:0,width:0,padding:0,margin:0,border:0}),l.find("."+t.css.resizer).remove(),s.addClass("hasStickyHeaders").on("pagerComplete.tsSticky",function(){v()}),t.bindEvents(i,m.children().children(".tablesorter-header")),s.after(g),c.on("scroll.tsSticky resize.tsSticky",function(e){if(s.is(":visible")){var t="tablesorter-sticky-",i=s.offset(),r=a.stickyHeaders_includeCaption?0:s.find("caption").outerHeight(!0),l=(n.length?n.offset().top:c.scrollTop())+p-r,d=s.height()-(g.height()+(h.height()||0)),f=l>i.top&&l<i.top+d?"visible":"hidden",u={visibility:f};n.length?u.top=n.scrollTop():u.left=o.offset().left-c.scrollLeft()-y,g.removeClass(t+"visible "+t+"hidden").addClass(t+f).css(u),f===b&&"resize"!==e.type||(v(),b=f)}}),a.stickyHeaders_addResizeEvent&&t.addHeaderResizeEvent(i),s.hasClass("hasFilters")&&(s.on("filterEnd",function(){var i=e(document.activeElement).closest("td"),l=i.parent().children().index(i);g.hasClass(t.css.stickyVis)&&a.stickyHeaders_filteredToTop&&(window.scrollTo(0,s.position().top),l>=0&&r.$filters&&r.$filters.eq(l).find("a, select, input").filter(":visible").trigger('focus'))}),t.filter.bindSearch(s,l.find("."+t.css.filter)),a.filter_hideFilters&&t.filter.hideFilters(g,r)),s.trigger("stickyHeadersInit")}},remove:function(i,r,a){r.$table.removeClass("hasStickyHeaders").off("pagerComplete.tsSticky").find("."+t.css.sticky).remove(),a.$sticky&&a.$sticky.length&&a.$sticky.remove(),e(".hasStickyHeaders").length||e(window).off("scroll.tsSticky resize.tsSticky"),t.addHeaderResizeEvent(i,!1)}}),t.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1},format:function(i,r,a){if(!r.$table.hasClass("hasResizable")){r.$table.addClass("hasResizable"),t.resizableReset(i,!0);var l,s,n,o,c,d={},f=r.$table,h=0,u=null,p=null,g=Math.abs(f.parent().width()-f.width())<20,m=function(e){if(0!==h&&u){var t=e.pageX-h,i=u.width();u.width(i+t),u.width()!==i&&g&&p.width(p.width()-t),h=e.pageX}},b=function(){t.storage&&u&&p&&((d={})[u.index()]=u.width(),d[p.index()]=p.width(),u.width(d[u.index()]),p.width(d[p.index()]),!1!==a.resizable&&t.storage(i,"tablesorter-resizable",r.$headers.map(function(){return e(this).width()}).get())),h=0,u=p=null,e(window).trigger("resize")};if(d=t.storage&&!1!==a.resizable?t.storage(i,"tablesorter-resizable"):{})for(o in d)!isNaN(o)&&o<r.$headers.length&&r.$headers.eq(o).width(d[o]);(l=f.children("thead:first").children("tr")).children().each(function(){var a,s=e(this);o=s.attr("data-column"),a="false"===t.getData(s,t.getColumnData(i,r.headers,o),"resizable"),l.children().filter('[data-column="'+o+'"]')[a?"addClass":"removeClass"]("resizable-false")}),l.each(function(){n=e(this).children().not(".resizable-false"),e(this).find("."+t.css.wrapper).length||n.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),a.resizable_addLastColumn||(n=n.slice(0,-1)),s=s?s.add(n):n}),s.each(function(){var i=e(this),r=parseInt(i.css("padding-right"),10)+10;i.find("."+t.css.wrapper).append('<div class="'+t.css.resizer+'" style="cursor:w-resize;position:absolute;z-index:1;right:-'+r+'px;top:0;height:100%;width:20px;"></div>')}).find("."+t.css.resizer).on("mousedown",function(t){u=e(t.target).closest("th");var i=r.$headers.filter('[data-column="'+u.attr("data-column")+'"]');i.length>1&&(u=u.add(i)),p=t.shiftKey?u.parent().find("th").not(".resizable-false").filter(":last"):u.nextAll(":not(.resizable-false)").eq(0),h=t.pageX}),e(document).on("mousemove.tsresize",function(e){0!==h&&u&&(a.resizable_throttle?(clearTimeout(c),c=setTimeout(function(){m(e)},isNaN(a.resizable_throttle)?5:a.resizable_throttle)):m(e))}).on("mouseup.tsresize",function(){b()}),f.find("thead:first").on("contextmenu.tsresize",function(){t.resizableReset(i);var r=!e.isEmptyObject||e.isEmptyObject(d);return d={},r})}},remove:function(e,i){i.$table.removeClass("hasResizable").children("thead").off("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().off("mousemove.tsresize mouseup.tsresize").find("."+t.css.resizer).remove(),t.resizableReset(e)}}),t.resizableReset=function(i,r){e(i).each(function(){var a,l=this.config,s=l&&l.widgetOptions;i&&l&&(l.$headers.each(function(t){a=e(this),s.resizable_widths[t]?a.css("width",s.resizable_widths[t]):a.hasClass("resizable-false")||a.css("width","")}),t.storage&&!r&&t.storage(this,"tablesorter-resizable",{}))})},t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,i,r){t.format(e,i,r,!0)},format:function(i,r,a,l){var s,n,o=r.$table,c=!1!==a.saveSort,d={sortList:r.sortList};r.debug&&(n=new Date),o.hasClass("hasSaveSort")?c&&i.hasInitialized&&t.storage&&(t.storage(i,"tablesorter-savesort",d),r.debug&&t.benchmark("saveSort widget: Saving last sort: "+r.sortList,n)):(o.addClass("hasSaveSort"),d="",t.storage&&(d=(s=t.storage(i,"tablesorter-savesort"))&&s.hasOwnProperty("sortList")&&e.isArray(s.sortList)?s.sortList:"",r.debug&&t.benchmark('saveSort: Last sort loaded: "'+d+'"',n),o.on("saveSortReset",function(e){e.stopPropagation(),t.storage(i,"tablesorter-savesort","")})),l&&d&&d.length>0?r.sortList=d:i.hasInitialized&&d&&d.length>0&&o.trigger("sorton",[d]))},remove:function(e){t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery);
